<div class="mt-7">
  <!-- Done Section -->
  <div class="relative w-full mr-auto">
    <!-- Button to toggle the Done table -->
    <button (click)="toggleTables()" type="button" class="relative flex rounded-full  w-full sm:w-fit text-sm">
      <div class="flex justify-between items-center gap-4 w-11/12 mx-auto sm:w-fit">
        <!-- Arrow icon with rotation class -->
        <img src="assets/img_trainee/arrow_down.svg" class="rotate done-arrow">

        <!-- Done button label -->
        <a class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#52B788] w-fit sm:w-full rounded-[10px] text-white p-2 font-bold " role="menuitem" tabindex="-1">
          <img src="assets/img_trainee/done.svg">
          <span>Done</span>
        </a>

        <!-- Done task count -->
        <span class="text-[#777575] font-semibold">{{doneTasks.length}}</span>
      </div>
    </button>

    <!-- Done Table -->
    <div class="content sm:pl-9 mt-4 min-w-full done-table hidden">
      <table class="w-full text-sm text-left">
        <!-- Table header -->
        <thead class="text-xs">
          <tr class="w-full flex items-center justify-between border-b border-[#D9D9D9]">
            <th class="px-1 py-3 text-xl font-medium text-[#777575]">Name</th>
            <div class="flex gap-24 w-1/3 justify-around">
              <th class=" text-xl font-medium text-[#EF4A50]">Start Time</th>
              <th class=" text-xl font-medium text-[#EF4A50]">DeadLine</th>
            </div>
          </tr>
        </thead>
        <!-- Table body -->
        <tbody>
          @for(done of doneTasks; track done.id) {
            <tr class="border-b border-[#D9D9D9] relative">
              <th class="p-2 pr-0 sm:p-4 sm:pr-0 font-medium text-base capitalize flex items-center justify-between">
                <div class="flex items-center gap-4">
                  <!-- Status toggle button -->
                  <div (click)="toggleList(done.id)">
                    <img src="assets/img_trainee/done_green.svg" class="cursor-pointer" width="30" alt="">
                  </div>
                  <!-- Dropdown list for task status -->
                  <div [id]="done.id" class="list flex flex-col w-fit absolute top-full left-0 z-10 min-h-fit">
                    <a (click)="changeTaskStatus(done, 0)" class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#979797] text-white p-2 font-bold w-full rounded-t-[10px]">To Do</a>
                    <a (click)="changeTaskStatus(done, 1)" class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#2D91C7] text-white p-2 font-bold w-full">In Progress</a>
                    <a (click)="changeTaskStatus(done, 2)" class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#52B788] text-white p-2 font-bold w-full rounded-b-[10px]">Done</a>
                  </div>
                  <span class="font-semibold text-[14px] sm:text-xl">{{done.title}}</span>
                </div>
                <!-- Deadline date -->
                <div class="flex gap-8 w-1/3 justify-around">
                  <span class="font-semibold text-[14px] sm:text-xl">{{done.startTime.split('T')[0]}}</span>
                  <img src="assets/img_trainee/right-arrow.svg" alt="">
                  <span class="font-semibold text-[14px] sm:text-xl">{{done.endTime.split('T')[0]}}</span>
                </div>
              </th>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>
