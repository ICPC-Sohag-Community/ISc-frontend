 <div class="mt-28">
  <!-- Todo Section -->
  <div class="relative w-full mr-auto">
    <!-- Button to toggle the To-Do table -->
    <button (click)="toggleTables('todo')" type="button" class="relative flex rounded-full text-sm">
      <div class="flex justify-between items-center gap-4">
        <!-- Arrow icon with rotation class -->
        <img src="assets/img_trainee/arrow_down.svg" class="rotate todo-arrow">

        <!-- To-Do button label -->
        <a class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#979797] text-white p-2 rounded-[10px] font-bold w-full" role="menuitem" tabindex="-1">
          <img src="assets/img_trainee/circle.svg">
          <span>To Do</span>
        </a>

        <!-- To-Do task count -->
        <span class="text-[#777575] font-semibold">{{todoTasks.length}}</span>
      </div>
    </button>

    <!-- To-Do Table -->
    <div class="content ml-9 mt-4 min-w-full todo-table">
      <table class="w-full text-sm text-left">
        <!-- Table header -->
        <thead class="text-xs">
          <tr class="w-full flex items-center justify-between border-b border-[#D9D9D9]">
            <th class="px-1 py-3 text-xl font-medium text-[#777575]">Name</th>
            <th class="px-4 text-xl font-medium text-[#EF4A50]">DeadLine</th>
          </tr>
        </thead>
        <!-- Table body -->
        <tbody>
          @for(todo of todoTasks; track todo.id) {
            <tr class="border-b border-[#D9D9D9] relative">
              <th class="p-4 font-medium text-base capitalize flex items-center justify-between">
                <div class="flex items-center gap-4">
                  <!-- Status toggle button -->
                  <div class="size-5 rounded-full border border-[#979797] cursor-pointer" (click)="toggleList(todo.id)"></div>

                  <!-- Dropdown list for task status -->
                  <div [id]="todo.id" class="list-todo flex flex-col w-fit absolute top-full left-0 z-10 min-h-fit">
                    <a (click)="changeTaskStatus(todo, 0)" class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#979797] text-white p-2 font-bold w-full rounded-t-[10px]">To Do</a>
                    <a (click)="changeTaskStatus(todo, 1)" class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#2D91C7] text-white p-2 font-bold w-full">In Progress</a>
                    <a (click)="changeTaskStatus(todo, 2)" class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#52B788] text-white p-2 font-bold w-full rounded-b-[10px]">Done</a>
                  </div>
                  <span>To Do</span>
                </div>
                <!-- Deadline date -->
                <span>{{todo.deadLine.split('T')[0]}}</span>
              </th>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="mt-7">
  <!-- In Progress Section -->
  <div class="relative w-full mr-auto">
    <!-- Button to toggle the In Progress table -->
    <button (click)="toggleTables('progress')" type="button" class="relative flex rounded-full text-sm">
      <div class="flex justify-between items-center gap-4">
        <!-- Arrow icon with rotation class -->
        <img src="assets/img_trainee/arrow_down.svg" class="rotate progress-arrow">

        <!-- In Progress button label -->
        <a class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#2D91C7] rounded-[10px] text-white p-2 font-bold w-full" role="menuitem" tabindex="-1">
          <img src="assets/img_trainee/progress.svg">
          <span>In Progress</span>
        </a>

        <!-- In Progress task count -->
        <span class="text-[#777575] font-semibold">{{inProgressTasks.length}}</span>
      </div>
    </button>

    <!-- In Progress Table -->
    <div class="content ml-9 mt-4 min-w-full progress-table">
      <table class="w-full text-sm text-left">
        <!-- Table header -->
        <thead class="text-xs">
          <tr class="w-full flex items-center justify-between border-b border-[#D9D9D9]">
            <th class="px-1 py-3 text-xl font-medium text-[#777575]">Name</th>
            <th class="px-4 text-xl font-medium text-[#EF4A50]">DeadLine</th>
          </tr>
        </thead>
        <!-- Table body -->
        <tbody>
          @for(inProgress of inProgressTasks; track inProgress.id) {
            <tr class="border-b border-[#D9D9D9] relative">
              <th class="p-4 font-medium text-base capitalize flex items-center justify-between">
                <div class="flex items-center gap-4">
                  <!-- Status toggle button -->
                  <div (click)="toggleList(inProgress.id)">
                    <img src="assets/img_trainee/progress-blue.svg">
                  </div>

                  <!-- Dropdown list for task status -->
                  <div [id]="inProgress.id" class="list-progress flex flex-col w-fit absolute top-full left-0 z-10 min-h-fit">
                    <a (click)="changeTaskStatus(inProgress, 0)" class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#979797] text-white p-2 font-bold w-full rounded-t-[10px]">To Do</a>
                    <a (click)="changeTaskStatus(inProgress, 1)" class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#2D91C7] text-white p-2 font-bold w-full">In Progress</a>
                    <a (click)="changeTaskStatus(inProgress, 2)" class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#52B788] text-white p-2 font-bold w-full rounded-b-[10px]">Done</a>
                  </div>
                  <span>In Progress</span>
                </div>
                <!-- Deadline date -->
                <span>{{inProgress.deadLine.split('T')[0]}}</span>
              </th>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="mt-7">
  <!-- Done Section -->
  <div class="relative w-full mr-auto">
    <!-- Button to toggle the Done table -->
    <button (click)="toggleTables('done')" type="button" class="relative flex rounded-full text-sm">
      <div class="flex justify-between items-center gap-4">
        <!-- Arrow icon with rotation class -->
        <img src="assets/img_trainee/arrow_down.svg" class="done-arrow">

        <!-- Done button label -->
        <a class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#52B788] text-white p-2 rounded-[10px] font-bold w-full" role="menuitem" tabindex="-1">
          <img src="assets/img_trainee/done.svg">
          <span>Done</span>
        </a>

        <!-- Done task count -->
        <span class="text-[#777575] font-semibold">{{doneTasks.length}}</span>
      </div>
    </button>

    <!-- Done Table -->
    <div class="content ml-9 mt-4 min-w-full done-table hidden">
      <table class="w-full text-sm text-left">
        <!-- Table header -->
        <thead class="text-xs">
          <tr class="w-full flex items-center justify-between border-b border-[#D9D9D9]">
            <th class="px-1 py-3 text-xl font-medium text-[#777575]">Name</th>
            <th class="px-4 text-xl font-medium text-[#EF4A50]">DeadLine</th>
          </tr>
        </thead>
        <!-- Table body -->
        <tbody>
          @for(done of doneTasks; track done.id) {
            <tr class="border-b border-[#D9D9D9] relative">
              <th class="p-4 font-medium text-base capitalize flex items-center justify-between">
                <div class="flex items-center gap-4">
                  <!-- Status toggle button -->
                  <div (click)="toggleList(done.id)">
                    <img src="assets/img_trainee/done_green.svg">
                  </div>

                  <!-- Dropdown list for task status -->
                  <div [id]="done.id" class="list-done flex flex-col w-fit absolute top-full left-0 z-10 min-h-fit">
                    <a (click)="changeTaskStatus(done, 0)" class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#979797] text-white p-2 font-bold w-full rounded-t-[10px]">To Do</a>
                    <a (click)="changeTaskStatus(done, 1)" class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#2D91C7] text-white p-2 font-bold w-full">In Progress</a>
                    <a (click)="changeTaskStatus(done, 2)" class="flex items-center gap-2 px-4 py-2 uppercase text-xl cursor-pointer bg-[#52B788] text-white p-2 font-bold w-full rounded-b-[10px]">Done</a>
                  </div>
                  <span>Done</span>
                </div>
                <!-- Deadline date -->
                <span>{{done.deadLine.split('T')[0]}}</span>
              </th>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>
